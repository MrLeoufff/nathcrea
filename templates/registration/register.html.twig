{% extends 'base.html.twig' %}

{% block title %}Inscription
{% endblock %}

{% block body %}
	<div
		class="container my-5">
		<!-- Flash messages for verification errors -->
		{% for flash_error in app.flashes('verify_email_error') %}
			<div class="alert alert-danger" role="alert">{{ flash_error }}</div>
		{% endfor %}

		<h1 class="text-center mb-4">Créer un compte</h1>

		<div class="card mx-auto shadow-sm" style="max-width: 400px;">
			<div
				class="card-body">
				<!-- Display form errors -->
				{{ form_errors(registrationForm) }}

				<!-- Start of the form -->
				{{ form_start(registrationForm, { attr: { novalidate: 'novalidate' } }) }}

				<!-- Pseudo -->
				<div class="mb-3">
					{{ form_row(registrationForm.pseudo, {
                    label_attr: { class: 'form-label' },
                    attr: { class: 'form-control', placeholder: 'Votre pseudo' }
                }) }}
				</div>

				<!-- Email -->
				<div class="mb-3">
					{{ form_row(registrationForm.email, {
                    label_attr: { class: 'form-label' },
                    attr: { class: 'form-control', placeholder: 'Votre adresse e-mail' }
                }) }}
				</div>

				<!-- First Name -->
				<div class="mb-3">
					{{ form_row(registrationForm.firstName, {
                    label: 'Prénom',
                    label_attr: { class: 'form-label' },
                    attr: { class: 'form-control', placeholder: 'Votre prénom' }
                }) }}
				</div>

				<!-- Last Name -->
				<div class="mb-3">
					{{ form_row(registrationForm.lastName, {
                    label: 'Nom',
                    label_attr: { class: 'form-label' },
                    attr: { class: 'form-control', placeholder: 'Votre nom' }
                }) }}
				</div>

				<!-- Address -->
				<div class="mb-3">
					{{ form_row(registrationForm.address, {
                    label: 'Adresse',
                    label_attr: { class: 'form-label' },
                    attr: { class: 'form-control', placeholder: 'Votre adresse complète' }
                }) }}
				</div>

				<!-- Password -->
				<div class="mb-3">
					{{ form_row(registrationForm.plainPassword, {
                    label: 'Mot de passe',
                    label_attr: { class: 'form-label' },
                    attr: { class: 'form-control', placeholder: 'Choisissez un mot de passe' }
                }) }}
				</div>

				<!-- Agree Terms -->
				<div class="mb-3 form-check">
					{{ form_row(registrationForm.agreeTerms, {
        label: '<a href="#" data-bs-toggle="modal" data-bs-target="#cgvModal">J\'accepte les conditions générales</a>',
        label_html: true,
        label_attr: { class: 'form-check-label' },
        attr: { class: 'form-check-input' }
    }) }}
</div>

            <!-- Submit button -->
            <button type="submit" class="btn btn-primary w-100">S'inscrire</button>

            {{ form_end(registrationForm) }}
				</div>
			</div>
		</div>

		<!-- Modal for CGV -->
		<div class="modal fade" id="cgvModal" tabindex="-1" aria-labelledby="cgvModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg">
				<div
					class="modal-content">
					<!-- Header de la modale -->
					<div class="modal-header bg-primary text-white">
						<h5 class="modal-title" id="cgvModalLabel">Conditions Générales de Vente</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>

					<!-- Corps de la modale -->
					<div class="modal-body">
						<h6 class="text-primary mb-3">Dernière mise à jour : 16/12/2024</h6>

						<h6>1. Présentation de l'entreprise</h6>
						<p>
							<strong>Nom de l'entreprise :</strong>
							NathCréa
							<br>
							<strong>Adresse :</strong>
							Corse
							<br>
							<strong>Téléphone :</strong>
							Demander via le formulaire de contact si besoin
							<br>
							<strong>Email :</strong>
							nathcrea.app@gmail.com
							<br>
							<strong>Site web :</strong>
							https://www.nath-crea.fr
							<br>
							{# <strong>Numéro SIRET :</strong>
														[Si applicable] #}
						</p>

						<h6>2. Objet</h6>
						<p>
							Les présentes Conditions Générales de Vente régissent les relations contractuelles entre [Nom de l'entreprise] et tout client effectuant un achat via le site [nom du site ou plateforme]. Elles définissent les droits et obligations des parties dans le cadre de la vente en ligne d'articles artisanaux.
						</p>

						<h6>3. Produits</h6>
						<ul>
							<li>Les articles proposés à la vente sont décrits et présentés avec la plus grande exactitude possible.</li>
							<li>Les photographies sont fournies à titre illustratif. Des variations peuvent apparaître en raison du caractère artisanal des produits.</li>
							<li>La disponibilité des produits est indiquée sur le site et peut varier.</li>
						</ul>

						<h6>4. Prix</h6>
						<ul>
							<li>Les prix sont indiqués en euros (€) toutes taxes comprises (TTC).</li>
							<li>Les frais de livraison sont précisés avant validation de la commande.</li>
							<li>TVA non applicable selon l'article 293 B du CGI.</li>
						</ul>

						<h6>5. Commande</h6>
						<p>
							Toute commande passée sur le site implique l'acceptation sans réserve des présentes CGV. Le client garantit l'exactitude des informations fournies pour la commande.
						</p>

						<h6>6. Paiement</h6>
						<p>
							Les modes de paiement acceptés sont : Carte bancaire, PayPal.. La commande sera expédiée uniquement après confirmation du paiement.
						</p>

						<h6>7. Livraison</h6>
						<p>
							Les livraisons sont effectuées à l'adresse indiquée lors de la commande. Les délais de livraison varient en fonction de la destination et du transporteur.
						</p>

						<h6>8. Droit de rétractation</h6>
						<p>
							Conformément à l'article L221-18 du Code de la consommation, le client dispose d'un délai de 14 jours à compter de la réception de sa commande pour exercer son droit de rétractation.
						</p>

						<h6>9. Retours et remboursements</h6>
						<p>
							Les frais de retour sont à la charge du client. Le remboursement sera effectué sous 14 jours après réception et vérification de l'article retourné.
						</p>

						<h6>10. Responsabilité</h6>
						<p>
							Le vendeur n'est pas responsable des dommages indirects liés à l'utilisation du site ou des produits. En cas de litige, la responsabilité du vendeur est limitée au montant de la commande.
						</p>

						<h6>11. Protection des données</h6>
						<p>
							Les données personnelles collectées lors de la commande sont utilisées uniquement pour la gestion des commandes et les communications commerciales. Conformément à la loi "Informatique et Libertés" et au RGPD, le client dispose d'un droit d'accès, de rectification et de suppression de ses données.
						</p>

						<h6>12. Litiges</h6>
						<p>
							Les présentes CGV sont soumises au droit français. En cas de litige, le client est invité à contacter le service client pour une résolution amiable.
						</p>

						<h6>13. Mentions légales</h6>
						<p>[Incluez vos mentions légales obligatoires selon votre activité.]</p>
					</div>

					<!-- Footer de la modale -->
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
					</div>
				</div>
			</div>
		</div>

	{% endblock %}
